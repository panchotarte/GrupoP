Modelo1 <- lm(pcard ~  huevo + huevo2 + cafe + cafe2 + refresco + refresco2 +  snacks + snacks2 + hiper + obesi + actfisica+  sexo  + edad + edad2, data = base_select)
summary(Modelo1)
#########
#Prueba reset
resettest(Modelo1,
power = 2:2,
type = "fitted")
View(base_select)
base_select$cafe <-  recode(base_select$cafe, "1=1; 2=0")
#####
####
##
# Eliminamos variables no estan definidas, aparecen signos negativos
base_select <-  base_select %>% filter(pcard >= 0)
base_select <-  base_select %>% filter(hiper >= 0)
base_select <-  base_select %>% filter(diabet >= 0)
base_select <-  base_select %>% filter(obesi >= 0)
base_select <-  base_select %>% filter(actfisica >= 0)
base_select <- base_select[!is.na(base_select$actfisica),]
base_select <-  base_select %>% filter(edad >= 18)
#####
####
##
# CREAR AGREGAR VARIABLE
edad2 <- (base_select$edad)^2
carne <-  (base_select$carne)
sal <-  (base_select$sal)
snacks <- (base_select$snacks)
refresco <- (base_select$refresco)
huevo2 <- (base_select$huevo)^2
cafe2 <- (base_select$cafe)^2
refresco2 <- (base_select$refresco)^2
snacks2<- (base_select$snacks)^2
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo2, cafe2, refresco2, snacks2)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
Modelo1 <- lm(pcard ~  huevo + huevo2 + cafe + cafe2 + refresco + refresco2 +  snacks + snacks2 + hiper + obesi + actfisica+  sexo  + edad + edad2, data = base_select)
summary(Modelo1)
#########
#Prueba reset
resettest(Modelo1,
power = 2:2,
type = "fitted")
#########
#Prueba reset
resettest(Modelo1,
power = 2:3,
type = "fitted")
####
###
# SUBIR BASE
base <- read_sav("BASE_ENS_Formulario Individual.sav")
#####
# SELECCIONAR VARIABLES:
# Problemas Cardiacos - Refrescos con azucar - Carne - Huevos - Snakcs -
# - Cafe - Sal - Agrega más sal - Hipertención - Diabetes - Obesidad - Sexo - Edad - Nivel de actividad fisica
base_select <- select(base,
aed76h,#problemas cardiacos
#Alimentación
ahv86h, # refresco
ahv86e, #carne
ahv86g, #huevo
ahv86i, #snacks
ahv87g, #cafe
ahv91, #Sal
ahv92, # mas sal
nhv86j, #comida rapida
#enfermedades
aed75c1, #hipertención
aed75c2, # diabetes
aed75c4,#obesidad
aed76g, #insuficiencia renal
#control
pssexo_ok, #Sexo
psedad_ok, #Edad
ahv115,#Días a la semana actividad física habitual
filtroedad_a1,
)
#####
####
# NOMBRAR VARIABLES
c = c("pcard","refresco" ,"carne", "huevo", "snacks", "cafe", "sal", "massal","comirapida", "hiper", "diabet", "obesi", "insufrenal", "sexo", "edad", "actfisica", "filtroedad" )
names(base_select) = c
#####
####
# Redefinimos las variables
# Pasando a reflejar la cantidad de elementos consumidos por semana.
# El valor 1 que representa "A diario" le dimos valor 7, que representa el consumo diario de huevos por semana y asi las otras 5 opciones
# el valor 2 que representa "3 o más veces por semana" pasa a ser 3
# el valor 3 que representa "1 o 2 veces por semana" pasa a ser 2
# el valor 4 que representa "Menos de 1 vez por semana" pasa a ser 0.7,
# el valor 5 que representa "Nunca o casi nunca" pasa a ser 0,
base_select$pcard <-  recode(base_select$pcard, "1=1; 2=0")
base_select$hiper <-  recode(base_select$hiper, "1=1; 2=0")
base_select$obesi <-  recode(base_select$obesi, "1=1; 2=0")
base_select$diabt <-  recode(base_select$diabet, "1=1; 2=0")
base_select$sexo <-  recode(base_select$sexo, "1=1; 2=0")
base_select$sal <-  recode(base_select$sal, "1=1; 2=0")
base_select$cafe <-  recode(base_select$cafe, "1=1; 2=0")
base_select$insufrenal <-  recode(base_select$insufrenal, "1=1; 2=0")
base_select$huevo <-  recode(base_select$huevo, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$carne <-  recode(base_select$carne, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$snacks <-  recode(base_select$snacks, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$refresco <-  recode(base_select$refresco, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$actfisica <-  recode(base_select$actfisica, "1=3; 2=2; 3=1")
base_select$comirapida <-  recode(base_select$comirapida, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$massal <-  recode(base_select$massal, "1=0; 2=1; 3=2")
#####
####
##
# Eliminamos variables no estan definidas, aparecen signos negativos
base_select <-  base_select %>% filter(pcard >= 0)
base_select <-  base_select %>% filter(hiper >= 0)
base_select <-  base_select %>% filter(diabet >= 0)
base_select <-  base_select %>% filter(obesi >= 0)
base_select <-  base_select %>% filter(actfisica >= 0)
base_select <- base_select[!is.na(base_select$actfisica),]
base_select <-  base_select %>% filter(edad >= 18)
#####
####
##
# CREAR AGREGAR VARIABLE
edad2 <- (base_select$edad)^2
carne <-  (base_select$carne)
sal <-  (base_select$sal)
snacks <- (base_select$snacks)
refresco <- (base_select$refresco)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
Modelo1 <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(Modelo1)
resettest(Modelo1,
power = 2:3,
type = "fitted")
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
Modelo1 <- lm(pcard ~  snacks*refresco + huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(Modelo1)
resettest(Modelo1,
power = 2:3,
type = "fitted")
View(base_select)
cafe <-  (base_select$cafe)
hiper <-  (base_select$hiper)
obesi <-  (base_select$obesi)
edad <-  (base_select$edad)
sexo <-  (base_select$sexo)
huevo <-  (base_select$huevo)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
Modelo1 <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(Modelo1)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, huevo*hiper, sal*snacks)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + carne*sal + huevo*obesi + huevo*hiper + sal*snacks + snacks*refresco+ carne*sal, data = base_select)
summary(ModeloHiper)
summary(Modelo1)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, huevo*hiper, sal*snacks, snacks*hiper)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + snacks*hiper, data = base_select)
summary(Modelo1)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+snacks*sal, data = base_select)
summary(Modelo1)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+snacks*sal, data = base_select)
summary(Modelo1)
table(base_select$sal)
table(base_select$hiper)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal + snacks*refresco, data = base_select)
summary(Modelo1)
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, obesi*hiper, sal*snacks, snacks*hiper)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal + obesi*hiper, data = base_select)
summary(Modelo1)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
summary(Modelo1)
actfisica <- (base_select$actfisica)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, obesi*hiper, sal*snacks, actfisica*obesi)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal + actfisica*obesi, data = base_select)
summary(Modelo1)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal, data = base_select)
summary(Modelo1)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
summary(Modelo1)
massal <- (base_select$massal)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, obesi*hiper, sal*snacks, actfisica*obesi, sal*massal)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal + sal*massal, data = base_select)
summary(Modelo1)
#####
######
#####
Modelo1 <-  lm(pcard ~ huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + sal+ snacks*sal + obesi*hiper, data = base_select)
summary(Modelo1)
summary(PrimerModelo)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
#########
#Prueba reset
resettest(Modelo1,
power = 2:3,
type = "fitted")
View(ModeloHiper)
#####
# SELECCIONAR VARIABLES:
# Problemas Cardiacos - Refrescos con azucar - Carne - Huevos - Snakcs -
# - Cafe - Sal - Agrega más sal - Hipertención - Diabetes - Obesidad - Sexo - Edad - Nivel de actividad fisica
base_select <- select(base,
aed76h,#problemas cardiacos
#Alimentación
ahv86h, # refresco
ahv86e, #carne
ahv86g, #huevo
ahv86i, #snacks
ahv87g, #cafe
ahv91, #Sal
ahv92, # mas sal
nhv86j, #comida rapida
#enfermedades
aed75c1, #hipertención
aed75c2, # diabetes
aed75c4,#obesidad
aed76g, #insuficiencia renal
#control
pssexo_ok, #Sexo
psedad_ok, #Edad
ahv115,#Días a la semana actividad física habitual
filtroedad_a1,
#Otras
ahv96,
)
#####
####
# NOMBRAR VARIABLES
c = c("pcard","refresco" ,"carne", "huevo", "snacks", "cafe", "sal", "massal","comirapida", "hiper", "diabet", "obesi", "insufrenal", "sexo", "edad", "actfisica", "filtroedad", "fuma" )
names(base_select) = c
#####
####
# Redefinimos las variables
# Pasando a reflejar la cantidad de elementos consumidos por semana.
# El valor 1 que representa "A diario" le dimos valor 7, que representa el consumo diario de huevos por semana y asi las otras 5 opciones
# el valor 2 que representa "3 o más veces por semana" pasa a ser 3
# el valor 3 que representa "1 o 2 veces por semana" pasa a ser 2
# el valor 4 que representa "Menos de 1 vez por semana" pasa a ser 0.7,
# el valor 5 que representa "Nunca o casi nunca" pasa a ser 0,
base_select$pcard <-  recode(base_select$pcard, "1=1; 2=0")
base_select$hiper <-  recode(base_select$hiper, "1=1; 2=0")
base_select$obesi <-  recode(base_select$obesi, "1=1; 2=0")
base_select$diabt <-  recode(base_select$diabet, "1=1; 2=0")
base_select$sexo <-  recode(base_select$sexo, "1=1; 2=0")
base_select$sal <-  recode(base_select$sal, "1=1; 2=0")
base_select$cafe <-  recode(base_select$cafe, "1=1; 2=0")
base_select$fuma <-  recode(base_select$fuma, "1=2; 2=1; 3=0")
base_select$insufrenal <-  recode(base_select$insufrenal, "1=1; 2=0")
base_select$huevo <-  recode(base_select$huevo, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$carne <-  recode(base_select$carne, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$snacks <-  recode(base_select$snacks, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$refresco <-  recode(base_select$refresco, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$actfisica <-  recode(base_select$actfisica, "1=3; 2=2; 3=1")
base_select$comirapida <-  recode(base_select$comirapida, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$massal <-  recode(base_select$massal, "1=0; 2=1; 3=2")
#####
####
##
# Eliminamos variables no estan definidas, aparecen signos negativos
base_select <-  base_select %>% filter(pcard >= 0)
base_select <-  base_select %>% filter(hiper >= 0)
base_select <-  base_select %>% filter(diabet >= 0)
base_select <-  base_select %>% filter(obesi >= 0)
base_select <-  base_select %>% filter(actfisica >= 0)
base_select <- base_select[!is.na(base_select$actfisica),]
base_select <-  base_select %>% filter(edad >= 18)
View(base_select)
base_select <-  base_select %>% filter(fuma >= 0)
View(base_select)
#####
####
##
# CREAR Y AGREGAR VARIABLE
edad2 <- (base_select$edad)^2
´sal <-  (base_select$sal)
sal <-  (base_select$sal)
snacks <- (base_select$snacks)
refresco <- (base_select$refresco)
hiper <-  (base_select$hiper)
obesi <-  (base_select$obesi)
edad <-  (base_select$edad)
sexo <-  (base_select$sexo)
huevo <-  (base_select$huevo)
actfisica <- (base_select$actfisica)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, obesi*hiper, sal*snacks, actfisica*obesi)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + fuma, data = base_select)
summary(PrimerModelo)
base_select$fuma <-  recode(base_select$fuma, "1=2; 2=1")
####
###
# SUBIR BASE
base <- read_sav("BASE_ENS_Formulario Individual.sav")
#####
# SELECCIONAR VARIABLES:
# Problemas Cardiacos - Refrescos con azucar - Carne - Huevos - Snakcs -
# - Cafe - Sal - Agrega más sal - Hipertención - Diabetes - Obesidad - Sexo - Edad - Nivel de actividad fisica
base_select <- select(base,
aed76h,#problemas cardiacos
#Alimentación
ahv86h, # refresco
ahv86e, #carne
ahv86g, #huevo
ahv86i, #snacks
ahv87g, #cafe
ahv91, #Sal
ahv92, # mas sal
nhv86j, #comida rapida
#enfermedades
aed75c1, #hipertención
aed75c2, # diabetes
aed75c4,#obesidad
aed76g, #insuficiencia renal
#control
pssexo_ok, #Sexo
psedad_ok, #Edad
ahv115,#Días a la semana actividad física habitual
filtroedad_a1,
#Otras
ahv98,
)
#####
####
# NOMBRAR VARIABLES
c = c("pcard","refresco" ,"carne", "huevo", "snacks", "cafe", "sal", "massal","comirapida", "hiper", "diabet", "obesi", "insufrenal", "sexo", "edad", "actfisica", "filtroedad", "frecfuma" )
names(base_select) = c
#####
####
# Redefinimos las variables
# Pasando a reflejar la cantidad de elementos consumidos por semana.
# El valor 1 que representa "A diario" le dimos valor 7, que representa el consumo diario de huevos por semana y asi las otras 5 opciones
# el valor 2 que representa "3 o más veces por semana" pasa a ser 3
# el valor 3 que representa "1 o 2 veces por semana" pasa a ser 2
# el valor 4 que representa "Menos de 1 vez por semana" pasa a ser 0.7,
# el valor 5 que representa "Nunca o casi nunca" pasa a ser 0,
base_select$pcard <-  recode(base_select$pcard, "1=1; 2=0")
base_select$hiper <-  recode(base_select$hiper, "1=1; 2=0")
base_select$obesi <-  recode(base_select$obesi, "1=1; 2=0")
base_select$diabt <-  recode(base_select$diabet, "1=1; 2=0")
base_select$sexo <-  recode(base_select$sexo, "1=1; 2=0")
base_select$sal <-  recode(base_select$sal, "1=1; 2=0")
base_select$fuma <-  recode(base_select$fuma, "1=5; 2=1")
base_select$frecfuma <-  recode(base_select$frecfuma, "1=5; 2=1")
base_select$insufrenal <-  recode(base_select$insufrenal, "1=1; 2=0")
base_select$huevo <-  recode(base_select$huevo, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$carne <-  recode(base_select$carne, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$snacks <-  recode(base_select$snacks, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$refresco <-  recode(base_select$refresco, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$actfisica <-  recode(base_select$actfisica, "1=3; 2=2; 3=1")
base_select$comirapida <-  recode(base_select$comirapida, "1=7; 2=3; 3=2; 4=0.7; 5=0")
base_select$massal <-  recode(base_select$massal, "1=0; 2=1; 3=2")
#####
####
##
# Eliminamos variables no estan definidas, aparecen signos negativos
base_select <-  base_select %>% filter(pcard >= 0)
base_select <-  base_select %>% filter(hiper >= 0)
base_select <-  base_select %>% filter(diabet >= 0)
base_select <-  base_select %>% filter(obesi >= 0)
base_select <-  base_select %>% filter(actfisica >= 0)
base_select <- base_select[!is.na(base_select$actfisica),]
base_select <-  base_select %>% filter(edad >= 18)
base_select <-  base_select %>% filter(fuma >= 0)
base_select <-  base_select %>% filter(frecfuma >= 0)
View(base_select)
#####
####
##
# CREAR Y AGREGAR VARIABLE
edad2 <- (base_select$edad)^2
sal <-  (base_select$sal)
snacks <- (base_select$snacks)
refresco <- (base_select$refresco)
hiper <-  (base_select$hiper)
obesi <-  (base_select$obesi)
edad <-  (base_select$edad)
sexo <-  (base_select$sexo)
huevo <-  (base_select$huevo)
actfisica <- (base_select$actfisica)
table(base_select$sal)
table(base_select$hiper)
######
#####
####
base_select <- base_select %>%  mutate(edad2, carne*sal, snacks*refresco, huevo*obesi, obesi*hiper, sal*snacks, actfisica*obesi)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2, data = base_select)
summary(PrimerModelo)
#####
####
####
##
# Tiramos el primer MPL de encontrar un problema cardiaco
PrimerModelo <- lm(pcard ~  huevo + cafe + refresco +  snacks + hiper + obesi + actfisica +  sexo  + edad + edad2 + frecfuma, data = base_select)
summary(PrimerModelo)
